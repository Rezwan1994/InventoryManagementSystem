@model IMS.WEB.UI.Models.DashboardViewModel
@{
    Layout = null;
    var i = 0;
    var InvoicId = "";
}
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css?family=Roboto:400,700&subset=latin,cyrillic-ext" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type="text/css">
<link href="~/Content/Css/Layout/waves.css" rel="stylesheet" />
<link href="~/Content/Css/Layout/animate.css" rel="stylesheet" />
<link href="~/Content/Css/Layout/morris.css" rel="stylesheet" />
<link href="~/Content/Css/Layout/style.css" rel="stylesheet" />
<link href="~/Content/Css/Layout/all-themes.css" rel="stylesheet" />

<section class="content">
    <div class="container-fluid">
        <div class="block-header">
            <h2>DASHBOARD</h2>
        </div>

        <!-- Widgets -->
        <div class="row clearfix">
            <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                <div class="info-box bg-pink hover-expand-effect">
                    <div class="icon">
                        <i class="material-icons">store</i>
                    </div>
                    <div class="content">
                        <div class="text">Total Products</div>
                        <div class="number count-to" data-from="0" data-to="@Model.products_count" data-speed="15" data-fresh-interval="20"></div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                <div class="info-box bg-light-green hover-expand-effect">
                    <div class="icon">
                        <i class="material-icons">person_pin</i>
                    </div>
                    <div class="content">
                        <div class="text">Total Clients</div>
                        <div class="number count-to" data-from="0" data-to="@Model.users_count" data-speed="1000" data-fresh-interval="20"></div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                <div class="info-box bg-cyan hover-expand-effect">
                    <div class="icon">
                        <i class="material-icons">attach_money</i>
                    </div>
                    <div class="content">
                        <div class="text">Paid Invoice</div>
                        <div class="number count-to" data-from="0" data-to="@Model.PaidInvoiceAmount" data-speed="1000" data-fresh-interval="20">৳</div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                <div class="info-box bg-orange hover-expand-effect">
                    <div class="icon">
                        <i class="material-icons">attach_money</i>
                    </div>
                    <div class="content">
                        <div class="text">Unpaid Invoice</div>
                        <div class="number count-to" data-from="0" data-to="@Model.UnpaidInvoiceAmount" data-speed="1000" data-fresh-interval="20"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Invoice Overview -->
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <div class="card">
                <div class="header">
                    <h2>Invoice Overview</h2>
                </div>
                <div class="body">
                    <div id="bar-chart"></div>
                </div>
            </div>
        </div>
        <!-- #END# Browser Usage -->
        <!-- #END# Widgets -->
        <!-- CPU Usage -->
        @*<div class="row clearfix">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="card">
                    <div class="header">
                        <div class="row clearfix">
                            <div class="col-xs-12 col-sm-6">
                                <h2>CPU USAGE (%)</h2>
                            </div>
                            <div class="col-xs-12 col-sm-6 align-right">
                                <div class="switch panel-switch-btn">
                                    <span class="m-r-10 font-12">REAL TIME</span>
                                    <label>OFF<input type="checkbox" id="realtime" checked><span class="lever switch-col-cyan"></span>ON</label>
                                </div>
                            </div>
                        </div>
                        <ul class="header-dropdown m-r--5">
                            <li class="dropdown">
                                <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                    <i class="material-icons">more_vert</i>
                                </a>
                                <ul class="dropdown-menu pull-right">
                                    <li><a href="javascript:void(0);">Action</a></li>
                                    <li><a href="javascript:void(0);">Another action</a></li>
                                    <li><a href="javascript:void(0);">Something else here</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="body">
                        <div id="real_time_chart" class="dashboard-flot-chart"></div>
                    </div>
                </div>
            </div>
        </div>*@
        <!-- #END# CPU Usage -->
        @*<div class="row clearfix">
            <!-- Visitors -->
            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                <div class="card">
                    <div class="body bg-pink">
                        <div class="sparkline" data-type="line" data-spot-Radius="4" data-highlight-Spot-Color="rgb(233, 30, 99)" data-highlight-Line-Color="#fff"
                             data-min-Spot-Color="rgb(255,255,255)" data-max-Spot-Color="rgb(255,255,255)" data-spot-Color="rgb(255,255,255)"
                             data-offset="90" data-width="100%" data-height="92px" data-line-Width="2" data-line-Color="rgba(255,255,255,0.7)"
                             data-fill-Color="rgba(0, 188, 212, 0)">
                            12,10,9,6,5,6,10,5,7,5,12,13,7,12,11
                        </div>
                        <ul class="dashboard-stat-list">
                            <li>
                                TODAY
                                <span class="pull-right"><b>1 200</b> <small>USERS</small></span>
                            </li>
                            <li>
                                YESTERDAY
                                <span class="pull-right"><b>3 872</b> <small>USERS</small></span>
                            </li>
                            <li>
                                LAST WEEK
                                <span class="pull-right"><b>26 582</b> <small>USERS</small></span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- #END# Visitors -->
            <!-- Latest Social Trends -->
            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                <div class="card">
                    <div class="body bg-cyan">
                        <div class="m-b--35 font-bold">LATEST SOCIAL TRENDS</div>
                        <ul class="dashboard-stat-list">
                            <li>
                                #socialtrends
                                <span class="pull-right">
                                    <i class="material-icons">trending_up</i>
                                </span>
                            </li>
                            <li>
                                #materialdesign
                                <span class="pull-right">
                                    <i class="material-icons">trending_up</i>
                                </span>
                            </li>
                            <li>#adminbsb</li>
                            <li>#freeadmintemplate</li>
                            <li>#bootstraptemplate</li>
                            <li>
                                #freehtmltemplate
                                <span class="pull-right">
                                    <i class="material-icons">trending_up</i>
                                </span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- #END# Latest Social Trends -->
            <!-- Answered Tickets -->
            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                <div class="card">
                    <div class="body bg-teal">
                        <div class="font-bold m-b--35">ANSWERED TICKETS</div>
                        <ul class="dashboard-stat-list">
                            <li>
                                TODAY
                                <span class="pull-right"><b>12</b> <small>TICKETS</small></span>
                            </li>
                            <li>
                                YESTERDAY
                                <span class="pull-right"><b>15</b> <small>TICKETS</small></span>
                            </li>
                            <li>
                                LAST WEEK
                                <span class="pull-right"><b>90</b> <small>TICKETS</small></span>
                            </li>
                            <li>
                                LAST MONTH
                                <span class="pull-right"><b>342</b> <small>TICKETS</small></span>
                            </li>
                            <li>
                                LAST YEAR
                                <span class="pull-right"><b>4 225</b> <small>TICKETS</small></span>
                            </li>
                            <li>
                                ALL
                                <span class="pull-right"><b>8 752</b> <small>TICKETS</small></span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- #END# Answered Tickets -->
        </div>*@

        <div class="row clearfix">
            <!-- Task Info -->
            <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
                <div class="card">
                    <div class="header">
                        <h2>IMPORTANT NOTICE</h2>
                        @*<ul class="header-dropdown m-r--5">
                            <li class="dropdown">
                                <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                    <i class="material-icons">more_vert</i>
                                </a>
                                <ul class="dropdown-menu pull-right">
                                    <li><a href="javascript:void(0);">Action</a></li>
                                    <li><a href="javascript:void(0);">Another action</a></li>
                                    <li><a href="javascript:void(0);">Something else here</a></li>
                                </ul>
                            </li>
                        </ul>*@
                    </div>
                    <div class="body">
                        <div class="table-responsive">
                            <table class="table table-hover dashboard-task-infos">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Task</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.FinishedProducts)
                                    {
                                        {
                                            i++;
                                        }
                                        <tr>
                                            <td>@i</td>
                                            <td><span class="bg-warning">Your Product <span class="bg-danger">@item.ProductName</span> is about to finish (Remaining Products Total @item.Quantity). </span></td>
                                        </tr>
                                    }
                                    @foreach (var item in Model.UnpaidInvoices)
                                    {
                                        {
                                            i++;
                                            InvoicId = "INV-" + $"{item.Id:000000}";
                                        }
                                        <tr>
                                            <td>@i</td>
                                            <td><span class="bg-danger">This @InvoicId is still <span class="bg-success">@item.PaymentStatus</span> <a href="/users"> more info..</a></span></td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- #END# Task Info -->
            <!-- Browser Usage -->
            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                <div class="card">
                    <div class="header">
                        <h2>OVERVIEW</h2>
                        @*<ul class="header-dropdown m-r--5">
                            <li class="dropdown">
                                <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                    <i class="material-icons">more_vert</i>
                                </a>
                                <ul class="dropdown-menu pull-right">
                                    <li><a href="javascript:void(0);">Action</a></li>
                                    <li><a href="javascript:void(0);">Another action</a></li>
                                    <li><a href="javascript:void(0);">Something else here</a></li>
                                </ul>
                            </li>
                        </ul>*@
                    </div>
                    <div class="body">
                        <div id="donut_chart" class="dashboard-donut-chart"></div>
                    </div>
                </div>
            </div>
            <!-- #END# Browser Usage -->
        </div>
    </div>
</section>

<!-- Slimscroll Plugin Js -->
<script src="~/Content/Js/MaterialDesign/jquery.slimscroll.js"></script>

<!-- Waves Effect Plugin Js -->
<script src="~/Content/Js/MaterialDesign/waves.js"></script>

<!-- Jquery CountTo Plugin Js -->
<script src="~/Content/Js/MaterialDesign/jquery.countTo.js"></script>
<!-- Morris.js charts -->
<script src="~/Content/Js/Layout/raphael-min.js"></script>
<script src="~/Content/Js/Layout/morris.min.js"></script>

<!-- Custom Js -->
<script src="~/Content/Js/MaterialDesign/admin.js"></script>
<script src="~/Content/Js/MaterialDesign/index.js"></script>

<!-- Demo Js -->
<script src="~/Content/Js/MaterialDesign/demo.js"></script>

<script>
  $(function () {
    "use strict";
    //DONUT CHART
    var donut = new Morris.Donut({
        element: 'donut_chart',
      resize: true,
      colors: ["#3c8dbc", "#f56954", "#00a65a"],
      data: [
        {label: "Total Products", value: @Model.products_count},
        {label: "Total Warehouses", value: @Model.warehouses_count},
        {label: "Total Clients", value: @Model.users_count}
      ],
      hideHover: 'auto'
      });

      //var data = [
      //    { y: '2014', a: 50, b: 90 },
      //    { y: '2015', a: 65, b: 75 },
      //    { y: '2016', a: 50, b: 50 },
      //    { y: '2017', a: 75, b: 60 },
      //    { y: '2018', a: 80, b: 65 },
      //    { y: '2019', a: 90, b: 70 },
      //    { y: '2020', a: 100, b: 75 },
      //    { y: '2021', a: 115, b: 75 },
      //    { y: '2022', a: 120, b: 85 },
      //    { y: '2023', a: 145, b: 85 },
      //    { y: '2024', a: 160, b: 95 }
      //],
      //    config = {
      //        data: data,
      //        xkey: 'y',
      //        ykeys: ['a', 'b'],
      //        labels: ['Total Income', 'Total Outcome'],
      //        fillOpacity: 0.6,
      //        hideHover: 'auto',
      //        behaveLikeLine: true,
      //        resize: true,
      //        pointFillColors: ['#ffffff'],
      //        pointStrokeColors: ['black'],
      //        lineColors: ['gray', 'red']
      //    };

      //config.element = 'bar-chart';
      //Morris.Bar(config);

      $.ajax({
          type: "POST",
          url: "/Home/GetBarChartData",
          data: "{}",
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          async: "true",
          cache: "false",
          success: function (result) {
              //var result = [
              //    { y: '2014', a: 50, b: 90 },
              //    { y: '2015', a: 65, b: 75 },
              //    { y: '2016', a: 50, b: 50 },
              //    { y: '2017', a: 75, b: 60 },
              //    { y: '2018', a: 80, b: 65 },
              //    { y: '2019', a: 90, b: 70 },
              //    { y: '2020', a: 100, b: 75 },
              //    { y: '2021', a: 115, b: 75 },
              //    { y: '2022', a: 120, b: 85 },
              //    { y: '2023', a: 145, b: 85 },
              //    { y: '2024', a: 160, b: 95 }
              //];
              console.log(result)
              OnSuccess(result);
          },
          error: function (xhr, status, error) {
              var result = [
                  { y: '2014', a: 50, b: 90 },
                  { y: '2015', a: 65, b: 75 },
                  { y: '2016', a: 50, b: 50 },
                  { y: '2017', a: 75, b: 60 },
                  { y: '2018', a: 80, b: 65 },
                  { y: '2019', a: 90, b: 70 },
                  { y: '2020', a: 100, b: 75 },
                  { y: '2021', a: 115, b: 75 },
                  { y: '2022', a: 120, b: 85 },
                  { y: '2023', a: 145, b: 85 },
                  { y: '2024', a: 160, b: 95 }
              ];
              OnSuccess(result);
              alert(error);
          }
      });

      function OnSuccess(response) {
          console.log(response);
          var area = new Morris.Bar({
              element: 'bar-chart',
              resize: true,
              data: response,
              xkey: 'y',
              ykeys: ['a', 'b'],
              labels: ['Unpaid Invoice', 'Paid Invoice'],
              fillOpacity: 0.6,
              hideHover: 'auto',
              behaveLikeLine: true,
              pointFillColors: ['#ffffff'],
              pointStrokeColors: ['black'],
              //lineColors: ['gray', 'white'],
              barColors: ["#f56954", "#00a65a"]
          });
      }
  });
</script>


@*Optional++++++++++++++++++++++++++

    <section class="content-header">
        <h1>
                Dashboard
                <small>Control panel</small>
            </h1>
        <ol class="breadcrumb">
            <h5 class="active">Dashboard</h5>
        </ol>
    </section>
    <!-- Main content -->
    <section class="content">
        <!-- Small boxes (Stat box) -->
        <div class="row">
            <div class="col-lg-3 col-xs-6">
                <!-- small box -->
                <div class="small-box bg-aqua">
                    <div class="inner">
                        <h3>@Model.products_count</h3>
                        <p>Products</p>
                    </div>
                    <div class="icon">
                        <i class="fa fa-users"></i>
                    </div>
                    <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </div>
            <!-- ./col -->
            <div class="col-lg-3 col-xs-6">
                <!-- small box -->
                <div class="small-box bg-green">
                    <div class="inner">
                        <h3>@Model.warehouses_count<sup style="font-size: 20px"></sup></h3>
                        <p>Warehouses</p>
                    </div>
                    <div class="icon">
                        <i class="fa fa-users"></i>
                    </div>
                    <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </div>
            <!-- ./col -->
            <div class="col-lg-3 col-xs-6">
                <!-- small box -->
                <div class="small-box bg-yellow">
                    <div class="inner">
                        <h3>@Model.users_count</h3>
                        <p>Clients</p>
                    </div>
                    <div class="icon">
                        <i class="ion ion-person"></i>
                    </div>
                    <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </div>
            <!-- ./col -->
            <div class="col-lg-3 col-xs-6">
                <!-- small box -->
                <div class="small-box bg-red">
                    <div class="inner">
                        <h3>65</h3>
                        <p>This Month</p>
                    </div>
                    <div class="icon">
                        <i class="ion ion-pie-graph"></i>
                    </div>
                    <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </div>
            <!-- ./col -->
        </div>
        <!-- /.row -->
        <!-- Main row -->
        <div class="row">
            <!-- Left col -->
            <section class="col-lg-7 connectedSortable">
                <!-- Custom tabs (Charts with tabs)-->
                <!-- DONUT CHART -->
                <div class="box box-danger">
                    <div class="box-header with-border">
                        <h3 class="box-title">Donut Chart</h3>
                        <div class="box-tools pull-right">
                            <button type="button" class="btn btn-box-tool" data-widget="collapse">
                                <i class="fa fa-minus"></i>
                            </button>
                            <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                        </div>
                    </div>
                    <div class="box-body chart-responsive">
                        <div class="chart" id="sales-chart" style="height: 300px; position: relative;"></div>
                    </div>
                    <!-- /.box-body -->
                </div>
                <!-- /.nav-tabs-custom -->
            </section>
            <!-- /.Left col -->
            <!-- right col (We are only adding the ID to make the widgets sortable)-->
            <section class="col-lg-5 connectedSortable">
                <!-- TO DO List -->
                <div class="box box-primary">
                    <div class="box-header">
                        <i class="ion ion-clipboard"></i>
                        <h3 class="box-title">To Do List</h3>
                        <div class="box-tools pull-right">
                            <ul class="pagination pagination-sm inline">
                                <li><a href="#">«</a></li>
                                <li><a href="#">1</a></li>
                                <li><a href="#">2</a></li>
                                <li><a href="#">3</a></li>
                                <li><a href="#">»</a></li>
                            </ul>
                        </div>
                    </div>
                    <!-- /.box-header -->
                    <div class="box-body">
                        <!-- See dist/js/pages/dashboard.js to activate the todoList plugin -->
                        <ul class="todo-list">
                            <li>
                                <!-- drag handle -->
                                <span class="handle">
                                    <i class="fa fa-ellipsis-v"></i>
                                    <i class="fa fa-ellipsis-v"></i>
                                </span>
                                <!-- checkbox -->
                                <input type="checkbox" value="">
                                <!-- todo text -->
                                <span class="text">Patient 1 Check up Time</span>
                                <!-- Emphasis label -->
                                <small class="label label-danger"><i class="fa fa-clock-o"></i> 2 mins</small>
                                <!-- General tools such as edit or delete-->
                                <div class="tools">
                                    <i class="fa fa-edit"></i>
                                    <i class="fa fa-trash-o"></i>
                                </div>
                            </li>
                            <li>
                                <span class="handle">
                                    <i class="fa fa-ellipsis-v"></i>
                                    <i class="fa fa-ellipsis-v"></i>
                                </span>
                                <input type="checkbox" value="">
                                <span class="text">Medicine for X Patient</span>
                                <small class="label label-info"><i class="fa fa-clock-o"></i> 4 hours</small>
                                <div class="tools">
                                    <i class="fa fa-edit"></i>
                                    <i class="fa fa-trash-o"></i>
                                </div>
                            </li>
                            <li>
                                <span class="handle">
                                    <i class="fa fa-ellipsis-v"></i>
                                    <i class="fa fa-ellipsis-v"></i>
                                </span>
                                <input type="checkbox" value="">
                                <span class="text">New Patient Operation</span>
                                <small class="label label-warning"><i class="fa fa-clock-o"></i> 1 day</small>
                                <div class="tools">
                                    <i class="fa fa-edit"></i>
                                    <i class="fa fa-trash-o"></i>
                                </div>
                            </li>
                            <li>
                                <span class="handle">
                                    <i class="fa fa-ellipsis-v"></i>
                                    <i class="fa fa-ellipsis-v"></i>
                                </span>
                                <input type="checkbox" value="">
                                <span class="text">Ward Visit</span>
                                <small class="label label-success"><i class="fa fa-clock-o"></i> 3 days</small>
                                <div class="tools">
                                    <i class="fa fa-edit"></i>
                                    <i class="fa fa-trash-o"></i>
                                </div>
                            </li>
                            <li>
                                <span class="handle">
                                    <i class="fa fa-ellipsis-v"></i>
                                    <i class="fa fa-ellipsis-v"></i>
                                </span>
                                <input type="checkbox" value="">
                                <span class="text">Any other Activity</span>
                                <small class="label label-primary"><i class="fa fa-clock-o"></i> 1 week</small>
                                <div class="tools">
                                    <i class="fa fa-edit"></i>
                                    <i class="fa fa-trash-o"></i>
                                </div>
                            </li>
                            <li>
                                <span class="handle">
                                    <i class="fa fa-ellipsis-v"></i>
                                    <i class="fa fa-ellipsis-v"></i>
                                </span>
                                <input type="checkbox" value="">
                                <span class="text">Any other Activity</span>
                                <small class="label label-default"><i class="fa fa-clock-o"></i> 1 month</small>
                                <div class="tools">
                                    <i class="fa fa-edit"></i>
                                    <i class="fa fa-trash-o"></i>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <!-- /.box-body -->
                    <div class="box-footer clearfix no-border">
                        <button type="button" class="btn btn-default pull-right"><i class="fa fa-plus"></i> Add item</button>
                    </div>
                </div>
                <!-- /.box -->
            </section>
            <!-- right col -->
        </div>
        <!-- /.row (main row) -->
    </section>

    ++++++++++++++++++++++++++++++++++*@